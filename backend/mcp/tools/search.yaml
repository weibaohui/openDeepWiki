namespace: search
description: 搜索工具
version: "1.0"

tools:
  - name: semantic
    description: 基于向量嵌入的语义搜索
    parameters:
      - name: query
        type: string
        required: true
        description: 搜索查询
      - name: repo_path
        type: string
        required: true
      - name: top_k
        type: integer
        required: false
        default: 10
      - name: file_types
        type: array
        required: false
        description: 限制文件类型，如 ["go", "py"]
    returns:
      results: array
        # file, snippet, score, line_start, line_end

  - name: symbol
    description: 精确符号搜索
    parameters:
      - name: symbol_name
        type: string
        required: true
      - name: repo_path
        type: string
        required: true
      - name: symbol_type
        type: string
        required: false  # function, class, interface, variable
    returns:
      locations: array
        # file, line, column, type, context

  - name: similar_code
    description: 查找相似代码
    parameters:
      - name: code_snippet
        type: string
        required: true
      - name: repo_path
        type: string
        required: true
      - name: threshold
        type: number
        required: false
        default: 0.8
    returns:
      matches: array
        # file, snippet, similarity

  - name: full_text
    description: 全文搜索
    parameters:
      - name: query
        type: string
        required: true
      - name: repo_path
        type: string
        required: true
      - name: case_sensitive
        type: boolean
        required: false
        default: false
    returns:
      results: array
        # file, line, content
