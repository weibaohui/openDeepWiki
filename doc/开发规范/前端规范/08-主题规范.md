# 主题规范

本文档定义基于 Ant Design v5 的多主题与自定义主题变量的使用方式。

本文示例不包含代码注释，原示例注释已移除，如需保留请自行补充。

## Ant Design 主题算法

```tsx
import { ConfigProvider, theme } from 'antd';

function AppThemeProvider({ children }: { children: React.ReactNode }) {
  return (
    <ConfigProvider theme={{ algorithm: theme.defaultAlgorithm }}>
      {children}
    </ConfigProvider>
  );
}
```

## 深色主题

```tsx
import { ConfigProvider, theme } from 'antd';

function DarkThemeProvider({ children }: { children: React.ReactNode }) {
  return (
    <ConfigProvider theme={{ algorithm: theme.darkAlgorithm }}>
      {children}
    </ConfigProvider>
  );
}
```

## 紧凑主题

```tsx
import { ConfigProvider, theme } from 'antd';

function CompactThemeProvider({ children }: { children: React.ReactNode }) {
  return (
    <ConfigProvider theme={{ algorithm: theme.compactAlgorithm }}>
      {children}
    </ConfigProvider>
  );
}
```

## 自定义 Token

```tsx
import { ConfigProvider } from 'antd';

function CustomTokenProvider({ children }: { children: React.ReactNode }) {
  return (
    <ConfigProvider
      theme={{
        token: {
          colorPrimary: '#1677ff',
          borderRadius: 8,
        },
      }}
    >
      {children}
    </ConfigProvider>
  );
}
```

## 主题切换组件

```tsx
import { Select } from 'antd';
import { ConfigProvider, theme as antdTheme } from 'antd';
import { useState } from 'react';

const options = [
  { value: 'default', label: '默认' },
  { value: 'dark', label: '深色' },
  { value: 'compact', label: '紧凑' },
];

function ThemeSwitcher({ children }: { children: React.ReactNode }) {
  const [mode, setMode] = useState<'default' | 'dark' | 'compact'>('default');

  const algorithm =
    mode === 'dark'
      ? antdTheme.darkAlgorithm
      : mode === 'compact'
      ? antdTheme.compactAlgorithm
      : antdTheme.defaultAlgorithm;

  return (
    <ConfigProvider theme={{ algorithm }}>
      <Select
        value={mode}
        options={options}
        onChange={(v) => setMode(v)}
        style={{ width: 120 }}
      />
      {children}
    </ConfigProvider>
  );
}
```

## 主题变量读取

```tsx
import { theme } from 'antd';

function TokenUsage() {
  const { token } = theme.useToken();
  return (
    <div style={{ background: token.colorBgContainer, color: token.colorText }}>
      内容
    </div>
  );
}
```

## 相关文档

- [国际化规范](./07-国际化规范.md)
- [Ant Design 样式规范](./05-tailwind规范.md)
