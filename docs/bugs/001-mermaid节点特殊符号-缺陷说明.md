# 0. 文件修改记录表

| 修改人 | 修改时间 | 修改内容 |
| ------ | -------- | -------- |
| AI     | 2026-02-11 | 新增缺陷说明 |

# 1. 缺陷概述
Mermaid 图表中节点文本包含 `#` 或 `[]` 等特殊符号时，如果未加双引号，渲染阶段会报错并显示错误提示。

# 2. 影响范围
- 影响模块：前端 Markdown 渲染中的 Mermaid 图表展示
- 影响版本：当前前端版本
- 影响对象：包含 `J[#[Tools] Macro]`、`K[#[Prompts] Macro]` 等节点文本的图表

# 3. 复现步骤
1. 在文档中插入 Mermaid 代码块，包含节点文本 `J[#[Tools] Macro]`。
2. 打开文档详情页。
3. 页面出现 Mermaid 渲染错误提示。

# 4. 期望行为
节点文本包含特殊符号时，系统自动补齐双引号并正常渲染，例如 `J["#[Tools] Macro"]`。

# 5. 实际行为
Mermaid 解析失败，图表渲染错误并展示错误提示。

# 6. 相关信息
- 相关代码位置：`frontend/src/components/markdown/MermaidRender.tsx`
- 相关数据特征：节点文本包含 `#` 或 `[]` 等特殊符号，且未被双引号包裹
