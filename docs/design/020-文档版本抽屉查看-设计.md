# 020-文档版本抽屉查看-设计.md

## 1. 概述

在文档展示页增加版本抽屉入口，支持查看同一任务的历史版本并切换显示。

---

## 2. 页面与交互设计

### 2.1 按钮位置

位于文档展示页顶部操作区，在编辑保存按钮后面新增“版本”按钮。

### 2.2 抽屉

- 右侧窄抽屉
- 内容上下排列
- 展示版本链接列表（排除当前版本）
- 版本按倒序排列

---

## 3. 接口设计

新增文档版本查询接口：

```
GET /api/documents/:id/versions
```

返回该文档所属任务的所有版本列表，包含版本号与文档 ID。

---

## 4. 代码改动范围

| 模块 | 说明 |
| --- | --- |
| Document API | 新增版本查询接口 |
| DocViewer 页面 | 新增版本按钮与抽屉 |
| i18n 文案 | 新增“版本”及空态文案 |

---

## 5. 风险与兼容性

- 复用现有文档展示页面，通过路由切换版本
- 未影响已有文档编辑与保存逻辑
