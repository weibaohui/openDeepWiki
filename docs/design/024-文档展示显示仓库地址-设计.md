# 024-文档展示显示仓库地址-设计.md

# 0. 文件修改记录表

| 修改人 | 修改时间 | 修改内容 |
| ------ | -------- | -------- |
| AI | 2026-02-07 | 初始版本 |
| AI | 2026-02-09 | 增加文档概览页最近更新展示设计 |

## 1. 概述
在文档展示页内容区域增加仓库地址显示，帮助用户识别文档来源仓库；在文档概览页增加最近更新标题展示，保持现有编辑与导出功能不变。

---

## 2. 页面与交互设计

### 2.1 展示位置
- 位于文档内容展示区域顶部，作为一行辅助信息展示
- 桌面端与移动端均可换行显示，避免遮挡标题

### 2.2 最近更新展示
- 位于文档概览页统计区域下方
- 展示最近更新的标题列表，最多 5 条
- 标题可点击跳转对应文档详情页

### 2.3 展示规则
- 文案格式为“仓库地址：<url>”
- url 为空时不显示该行
- 最近更新为空时展示空状态文案

---

## 3. 数据获取
- 使用仓库 ID 调用 repositoryApi.get 获取仓库详情
- 文档内容与文档列表依旧来自 documentApi
- 仓库请求失败时不影响文档展示
- 最近更新基于文档列表的 updated_at 字段倒序排序截取 5 条

---

## 4. 接口设计
- 复用现有接口：

```
GET /repositories/:id
```

---

## 5. 代码改动范围
| 模块 | 说明 |
| --- | --- |
| DocViewer 页面 | 增加仓库详情获取与地址展示 |
| i18n 文案 | 新增“仓库地址”中英文文案 |
| DocViewer 页面 | 增加最近更新标题展示 |
| i18n 文案 | 新增“最近更新”中英文文案 |

---

## 6. 风险与兼容性
- 仓库地址为空时页面保持现状
- 仓库信息获取失败时文档内容仍可阅读与编辑
