# 代码审查清单

在提交代码前，确保通过以下检查项。

## 类型安全

- [ ] 所有组件都有 TypeScript 类型
- [ ] 没有使用 `any` 类型
- [ ] Props 接口定义完整
- [ ] API 响应有类型定义
- [ ] 使用 `import type` 导入类型

## UI 组件

- [ ] 使用了 shadcn/ui 组件而非自定义样式
- [ ] 组件从 `@/components/ui` 导入
- [ ] 正确使用 Button 变体
- [ ] 表单使用了适当的输入组件

## 样式

- [ ] Tailwind 类名有序排列
- [ ] 使用 CSS 变量而非硬编码颜色
- [ ] 支持深色模式（`dark:` 前缀）
- [ ] 响应式设计完整

## 状态管理

- [ ] 状态放在最近的共同父组件
- [ ] 异步操作有 loading/error 状态
- [ ] useEffect 有正确的依赖数组
- [ ] useEffect 有清理函数（如需要）

## 国际化

- [ ] 所有用户可见文本使用 `t()` 函数
- [ ] 语言包键名符合命名规范
- [ ] 中英文语言包同步更新

## API 调用

- [ ] API 调用有错误处理
- [ ] 使用 try/catch 包裹异步操作
- [ ] 错误消息友好展示给用户

## 可访问性

- [ ] 图片有 alt 属性
- [ ] 图标按钮有 aria-label
- [ ] 表单输入有关联的 label
- [ ] 使用语义化 HTML 标签

## 性能

- [ ] 列表渲染有稳定的 key
- [ ] 复杂计算使用 useMemo
- [ ] 传递给子组件的函数使用 useCallback
- [ ] 没有在渲染中创建对象/数组

## 代码质量

- [ ] 没有未使用的导入
- [ ] 没有 console.log（调试代码）
- [ ] 组件职责单一
- [ ] 复杂逻辑提取到 Hook
- [ ] 文件不超过 300 行

## 命名

- [ ] 组件使用 PascalCase
- [ ] 函数使用 camelCase
- [ ] 布尔值使用 is/has/can 前缀
- [ ] 事件处理函数使用 handle 前缀

## 测试准备

- [ ] 组件可以独立测试
- [ ] 副作用可以被 mock
- [ ] 没有硬编码的测试障碍

## 快速自检命令

```bash
# TypeScript 类型检查
npm run typecheck

# ESLint 代码检查
npm run lint

# 格式化检查
npm run format:check
```

## 相关文档

- [最佳实践](./12-最佳实践.md)
- [禁止事项](./13-禁止事项.md)
