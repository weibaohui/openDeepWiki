# AI 可执行需求编写规范（AI‑Ready Requirements Spec）

> 本文档定义 **“什么样的需求，才允许交给 AI 开发”**。
>
> 目标不是写得漂亮，而是让需求 **可执行、可验证、可演进、可回溯**。
>
> 本规范适用于：进入代码仓库、用于驱动 AI 开发的 **L1 开发需求**。

---

## 0. 需求分级说明（前置认知）

在本体系中，需求分为两类：

| 层级 | 名称     | 面向对象 | 存放位置    |
| ---- | -------- | -------- | ----------- |
| L0   | 原始需求 | 人 → 人  | DevOps 平台 |
| L1   | 开发需求 | 人 → AI  | 代码仓库    |

**只有 L1 需求，才允许交给 AI 执行。**

---

## 1. AI 可执行需求的基本原则（必须满足）

一个需求在进入代码仓库前，**必须满足以下全部条件**：

### 1.1 自洽性（Self‑Contained）

* 需求文档必须 **单独阅读即可执行**
* 不依赖会议、口头说明、聊天记录
* 不出现以下表述：

  * “大家都知道”
  * “和之前一样”
  * “参考群里讨论”

---

### 1.2 明确性（No Ambiguity）

* 所有关键名词必须有定义
* 所有行为必须可判断对错
* 禁止使用以下模糊词而不解释：

  * 尽量
  * 合理
  * 适当
  * 快一点

---

### 1.3 可验证性（Verifiable）

* 必须能回答：

> **“AI 是否已经完成了这个需求？”**

* 若无法定义验收标准，则该需求 **不允许进入 L1**

---

## 2. 强制结构模板（AI 必须依赖此结构）

>  开发需求 **必须严格按以下结构编写**，顺序不可随意调整。

```md
# 1. 背景（Why）
说明为什么要做，不超过 200 字

# 2. 目标（What，必须可验证）
- [ ] 目标 1
- [ ] 目标 2

# 3. 非目标（Explicitly Out of Scope）
明确 AI 不能做什么，防止过度实现

# 4. 使用场景 / 用户路径
用步骤描述真实使用方式

# 5. 功能需求清单（Checklist）
- [ ] 功能点 A
- [ ] 功能点 B

# 6. 约束条件（非常关键）
- 技术约束
- 架构约束
- 安全约束
- 性能约束

# 7. 可修改 / 不可修改项
- ❌ 不可修改：
- ✅ 可调整：

# 8. 接口与数据约定（如适用）
- API 定义
- 字段含义
- 错误码语义

# 9. 验收标准（Acceptance Criteria）
用“如果……则……”描述

# 10. 风险与已知不确定点
明确 AI 遇到不确定性时应如何处理
```

---

## 3. 对 AI 友好的写作规则（强约束）

### 3.1 使用命令式、而非描述式

❌ 错误示例：

> 系统应该尽量保证高可用

✅ 正确示例：

> 系统在单实例失败时，不影响其他实例对外提供服务

---

### 3.2 一个需求 = 一个职责

* 禁止在一个需求中混合：

  * 架构重构 + 新功能
  * 技术升级 + 业务调整

如必须混合，**拆分为多个 L1 需求**。

---

### 3.3 明确 AI 的决策权限

需求中 **必须明确**：

* AI 可以自行决策的部分
* AI 遇到歧义时是否允许假设
* 哪些情况必须停止并请求人工确认

---

## 4. 不允许进入 L1 的需求类型（红线）

以下需求 **禁止直接交给 AI 开发**：

* 目标未收敛，仅是想法或方向
* 需求方自己也无法判断“做没做完”
* 涉及高风险权限 / 安全模型但未明确规则
* 明显依赖大量隐性组织知识

> 这些需求必须停留在 L0，由人继续澄清。

---

## 5. 与代码仓库的关系（强制）

### 5.1 存放位置

```text
/requirements
  001-xxx-需求.md
  001-xxx-实现总结.md
```

* 文件名必须可排序、可追溯
* 一个需求编号，对应一个实现总结

---

### 5.2 需求即版本输入

* L1 需求变更 = Git 变更
* 需求必须：

  * 可 diff
  * 可回滚
  * 可复现

---

## 6. AI 的默认执行心智模型

AI 在读取 L1 需求时，必须默认：

1. 不做需求之外的事
2. 不猜测未说明的规则
3. 不为了“看起来高级”而增加复杂度
4. 不确定时优先停下来请求确认

---

## 7. 终极判断标准

> **如果一个新加入的 AI，只看这份需求，就能独立完成开发，并且结果符合预期——那么这就是一份合格的 AI 可执行需求。**

---

**本规范是 AI 开发的前置条件，任何不满足本规范的需求，不允许进入 AI 开发流程。**
