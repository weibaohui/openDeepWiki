{
    "type": "page",
    "title": "代码仓库管理",
    "body": [
        {
            "type": "crud",
            "api": "/mgm/repo/list",
            "quickSaveItemApi": "/mgm/repo/save/id/${id}",
            "bulkActions": [
                {
                    "label": "批量删除",
                    "actionType": "ajax",
                    "confirmText": "确定要批量删除?",
                    "api": {
                        "url": "/mgm/repo/delete/${ids}",
                        "method": "post",
                        "data": {
                            "ids": "${selectedItems | pick:id }"
                        }
                    }
                }
            ],
            "headerToolbar": [
                "reload",
                "bulkActions",
                {
                    "type": "button",
                    "label": "新增仓库",
                    "icon": "fa fa-plus",
                    "actionType": "dialog",
                    "dialog": {
                        "title": "新增仓库",
                        "body": {
                            "type": "form",
                            "api": "/mgm/repo/save",
                            "body": [
                                {
                                    "type": "input-text",
                                    "name": "name",
                                    "label": "仓库名称",
                                    "required": true
                                },
                                {
                                    "type": "input-text",
                                    "name": "description",
                                    "label": "描述"
                                },
                                {
                                    "type": "input-text",
                                    "name": "repo_type",
                                    "label": "仓库类型",
                                    "required": true
                                },
                                {
                                    "type": "input-text",
                                    "name": "url",
                                    "label": "仓库地址",
                                    "required": true
                                },
                                {
                                    "type": "input-text",
                                    "name": "branch",
                                    "label": "默认分支"
                                }
                            ]
                        }
                    }
                }
            ],
            "columns": [
                {
                    "name": "name",
                    "label": "仓库名称"
                },
                {
                    "name": "description",
                    "label": "描述"
                },
                {
                    "name": "repo_type",
                    "label": "类型"
                },
                {
                    "name": "url",
                    "label": "地址"
                },
                {
                    "name": "branch",
                    "label": "分支"
                },
                {
                    "type": "operation",
                    "label": "操作",
                    "buttons": [
                        {
                            "type": "button",
                            "label": "编辑",
                            "actionType": "dialog",
                            "dialog": {
                                "title": "编辑仓库",
                                "body": {
                                    "type": "form",
                                    "api": "/mgm/repo/save",
                                    "body": [
                                        {
                                            "type": "hidden",
                                            "name": "id"
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "name",
                                            "label": "仓库名称",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "description",
                                            "label": "描述"
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "repo_type",
                                            "label": "仓库类型",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "url",
                                            "label": "仓库地址",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "branch",
                                            "label": "默认分支"
                                        }
                                    ]
                                }
                            }
                        }
                    ]
                }
            ]
        }
    ]
}